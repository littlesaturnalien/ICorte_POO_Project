{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\andre\\\\Desktop\\\\UAM\\\\Third year\\\\POO2\\\\FRONTEND\\\\ICorte_POO_Project\\\\carnet-uam-frontend\\\\src\\\\pages\\\\admin\\\\StudentIDCard.jsx\",\n  _s = $RefreshSig$();\n// src/pages/admin/StudentIdCardPage.jsx\nimport React, { useEffect, useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport AdminLayout from '../../layouts/AdminLayout';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = 'http://localhost:8087/uam-carnet-sys';\nconst STATUS_OPTS = ['PENDING', 'APPROVED', 'REJECTED', 'DELIVERED', 'EMITTED'];\n\n/* Paleta de colores personalizada */\nconst C = {\n  tealLight: '#4da4ab',\n  tealMid: '#487e84',\n  tealDark: '#0b545b',\n  black: '#2d2e3c'\n};\n\n/* helpers fecha */\nconst toISODate = d => {\n  if (!d) return '';\n  const iso = d.match(/^\\d{4}[-/]\\d{2}[-/]\\d{2}/);\n  if (iso) return iso[0].replace(/\\//g, '-');\n  const dm = d.match(/^(\\d{2})[-/](\\d{2})[-/](\\d{4})/);\n  return dm ? `${dm[3]}-${dm[2]}-${dm[1]}` : '';\n};\nconst b2iso = s => s ? `${s.slice(6, 10)}-${s.slice(3, 5)}-${s.slice(0, 2)}T${s.slice(11)}` : '';\nconst iso2b = s => s ? `${s.slice(8, 10)}-${s.slice(5, 7)}-${s.slice(0, 4)} ${s.slice(11)}` : '';\nexport default function StudentIdCardPage() {\n  _s();\n  const {\n    cif\n  } = useParams();\n  const [cards, setCards] = useState([]);\n  const [reqs, setReqs] = useState([]);\n  const [stu, setStu] = useState([]);\n  const [edit, setEdit] = useState({});\n  const [open, setOpen] = useState(null);\n  const load = async () => {\n    const [cRes, rRes, sRes] = await Promise.all([axios.get(`${API}/idcard`), axios.get(`${API}/requirement`), axios.get(`${API}/student`)]);\n    const c = cRes.data.filter(i => i.cif === cif);\n    const r = rRes.data.filter(i => i.cif === cif);\n    setCards(c);\n    setReqs(r);\n    setStu(sRes.data.filter(s => s.cif === cif));\n    const st = {};\n    c.forEach(cd => {\n      const req = r.find(q => q.requirementId === cd.requirement_id);\n      st[cd.idCardId] = {\n        status: cd.status,\n        notes: cd.notes || '',\n        issueDate: toISODate(cd.issueDate),\n        deliveryAppointment: b2iso(cd.deliveryAppointment),\n        pictureId: cd.picture_id,\n        pictureUrl: cd.picture_url || '',\n        photoAppointment: b2iso(cd.photoAppointment),\n        requirementId: req === null || req === void 0 ? void 0 : req.requirementId,\n        paymentProofUrl: (req === null || req === void 0 ? void 0 : req.paymentProofUrl) || '',\n        motive: (req === null || req === void 0 ? void 0 : req.motive) || 'No indicado',\n        expirationDate: cd.expirationDate || 'No especificada',\n        selectedDegreeName: cd.selectedDegreeName || 'No indicada',\n        selectedFacultyName: cd.selectedFacultyName || 'No indicada'\n      };\n    });\n    setEdit(st);\n  };\n  useEffect(() => {\n    load();\n  }, [cif]);\n  const keepOpen = i => setOpen(i);\n  const saveCard = async (cd, idx) => {\n    const e = edit[cd.idCardId];\n    try {\n      const dates = {};\n      if (e.issueDate && e.issueDate !== toISODate(cd.issueDate)) dates.issueDate = e.issueDate;\n      if (e.deliveryAppointment && iso2b(e.deliveryAppointment) !== cd.deliveryAppointment) dates.deliveryAppointment = iso2b(e.deliveryAppointment);\n      if (Object.keys(dates).length) await axios.patch(`${API}/idcard/${cd.idCardId}/dates`, dates);\n      if (e.status !== cd.status) await axios.patch(`${API}/idcard/${cd.idCardId}/status`, {\n        status: e.status\n      });\n      const note = (e.notes || '').trim();\n      if (note && note !== (cd.notes || '').trim()) await axios.patch(`${API}/idcard/${cd.idCardId}/addNotes`, {\n        notes: note\n      });\n      alert('✅ Carnet actualizado');\n      await load();\n      keepOpen(idx);\n    } catch (err) {\n      console.error(err);\n      alert('❌ Error al guardar carnet');\n    }\n  };\n  const savePic = async (cd, idx) => {\n    const e = edit[cd.idCardId];\n    if (!e.requirementId) return alert('requirementId faltante');\n    try {\n      var _reqRes$data$data;\n      const reqRes = await axios.get(`${API}/requirement/${e.requirementId}`);\n      const reqObj = (_reqRes$data$data = reqRes.data.data) !== null && _reqRes$data$data !== void 0 ? _reqRes$data$data : reqRes.data;\n      const picId = reqObj.pictureId;\n      if (!picId) return alert('pictureId no encontrado en el requirement');\n      await axios.put(`${API}/picture/${picId}`, {\n        ...(e.photoAppointment && {\n          photoAppointment: iso2b(e.photoAppointment)\n        }),\n        cif: cd.cif,\n        photoUrl: e.pictureUrl\n      });\n      alert('✅ Foto guardada');\n      await load();\n      keepOpen(idx);\n    } catch (err) {\n      console.error(err);\n      alert('❌ Error al guardar foto');\n    }\n  };\n  const saveReq = async (cd, idx) => {\n    const e = edit[cd.idCardId];\n    if (!e.requirementId) return alert('requirementId faltante');\n    try {\n      await axios.put(`${API}/requirement/${e.requirementId}`, {\n        paymentProofUrl: e.paymentProofUrl\n      });\n      alert('✅ Comprobante guardado');\n      await load();\n      keepOpen(idx);\n    } catch (err) {\n      console.error(err);\n      alert('❌ Error al guardar comprobante');\n    }\n  };\n  const studentName = stu.length ? `${stu[0].names} ${stu[0].surnames}` : '';\n  return /*#__PURE__*/_jsxDEV(AdminLayout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto mt-10 p-6 bg-white rounded shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold mb-4\",\n        children: [\"Solicitudes de Carnet de \", studentName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/admin/students\",\n        className: \"text-[#0b545b] underline mb-6 block\",\n        children: \"\\u2190 Volver a Estudiantes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this), !cards.length && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: \"No hay solicitudes.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 33\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4 max-h-[70vh] overflow-y-auto pr-2\",\n        children: cards.map((c, i) => {\n          const e = edit[c.idCardId] || {};\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setOpen(open === i ? null : i),\n              className: \"w-full p-4 bg-gray-100 flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold\",\n                children: [\"Semestre \", c.semester, \" \", c.year, \" \\u2014 \", c.status]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: open === i ? '−' : '+'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 33\n            }, this), open === i && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 space-y-5 bg-white rounded-b-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"section\", {\n                className: \"space-y-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-lg font-medium\",\n                  children: \"Detalles de la Solicitud\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Carrera:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 48\n                  }, this), \" \", e.selectedDegreeName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Facultad:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 48\n                  }, this), \" \", e.selectedFacultyName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Fecha de vencimiento:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 48\n                  }, this), \" \", e.expirationDate]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Motivo:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 48\n                  }, this), \" \", e.motive]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n                className: \"space-y-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-lg font-medium\",\n                  children: \"Carnet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2 items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"w-44 font-semibold\",\n                    children: \"Estado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: e.status,\n                    onChange: ev => setEdit({\n                      ...edit,\n                      [c.idCardId]: {\n                        ...e,\n                        status: ev.target.value\n                      }\n                    }),\n                    className: \"border px-2 py-1 rounded\",\n                    children: STATUS_OPTS.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n                      children: s\n                    }, s, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 75\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2 items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"w-44 font-semibold\",\n                    children: \"Emisi\\xF3n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    className: \"border px-2 py-1 rounded\",\n                    value: e.issueDate,\n                    onChange: ev => setEdit({\n                      ...edit,\n                      [c.idCardId]: {\n                        ...e,\n                        issueDate: ev.target.value\n                      }\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2 items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"w-44 font-semibold\",\n                    children: \"Entrega\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"datetime-local\",\n                    className: \"border px-2 py-1 rounded\",\n                    value: e.deliveryAppointment,\n                    onChange: ev => setEdit({\n                      ...edit,\n                      [c.idCardId]: {\n                        ...e,\n                        deliveryAppointment: ev.target.value\n                      }\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2 items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"w-44 font-semibold mt-1\",\n                    children: \"Notas\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    rows: 3,\n                    className: \"border px-2 py-1 rounded w-full\",\n                    value: e.notes,\n                    onChange: ev => setEdit({\n                      ...edit,\n                      [c.idCardId]: {\n                        ...e,\n                        notes: ev.target.value\n                      }\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => saveCard(c, i),\n                  className: \"text-white px-3 py-1 rounded\",\n                  style: {\n                    backgroundColor: C.tealMid\n                  },\n                  children: \"Guardar Carnet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n                className: \"space-y-2 pt-4 border-t\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-lg font-medium\",\n                  children: \"Fotograf\\xEDa\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2 items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"w-44 font-semibold\",\n                    children: \"URL\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"url\",\n                    className: \"border px-2 py-1 rounded w-full\",\n                    value: e.pictureUrl,\n                    onChange: ev => setEdit({\n                      ...edit,\n                      [c.idCardId]: {\n                        ...e,\n                        pictureUrl: ev.target.value\n                      }\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2 items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"w-44 font-semibold\",\n                    children: \"Cita Foto\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"datetime-local\",\n                    className: \"border px-2 py-1 rounded\",\n                    value: e.photoAppointment,\n                    onChange: ev => setEdit({\n                      ...edit,\n                      [c.idCardId]: {\n                        ...e,\n                        photoAppointment: ev.target.value\n                      }\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => savePic(c, i),\n                  className: \"text-white px-3 py-1 rounded\",\n                  style: {\n                    backgroundColor: C.tealLight\n                  },\n                  children: \"Guardar Foto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 45\n                }, this), e.pictureUrl && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: e.pictureUrl,\n                    target: \"_blank\",\n                    rel: \"noreferrer\",\n                    className: \"text-[#0b545b] underline\",\n                    children: \"Ver foto actual\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n                className: \"space-y-2 pt-4 border-t\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-lg font-medium\",\n                  children: \"Comprobante de Pago\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2 items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"w-44 font-semibold\",\n                    children: \"URL\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 249,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"url\",\n                    className: \"border px-2 py-1 rounded w-full\",\n                    value: e.paymentProofUrl,\n                    onChange: ev => setEdit({\n                      ...edit,\n                      [c.idCardId]: {\n                        ...e,\n                        paymentProofUrl: ev.target.value\n                      }\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => saveReq(c, i),\n                  className: \"text-white px-3 py-1 rounded\",\n                  style: {\n                    backgroundColor: C.tealDark\n                  },\n                  children: \"Guardar Comprobante\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 45\n                }, this), e.paymentProofUrl && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: e.paymentProofUrl,\n                    target: \"_blank\",\n                    rel: \"noreferrer\",\n                    className: \"text-[#0b545b] underline\",\n                    children: \"Ver comprobante actual\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 37\n            }, this)]\n          }, c.idCardId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 9\n  }, this);\n}\n_s(StudentIdCardPage, \"/eTBVmprjyBA04WApJLz3KywoLU=\", false, function () {\n  return [useParams];\n});\n_c = StudentIdCardPage;\nvar _c;\n$RefreshReg$(_c, \"StudentIdCardPage\");","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","axios","AdminLayout","jsxDEV","_jsxDEV","API","STATUS_OPTS","C","tealLight","tealMid","tealDark","black","toISODate","d","iso","match","replace","dm","b2iso","s","slice","iso2b","StudentIdCardPage","_s","cif","cards","setCards","reqs","setReqs","stu","setStu","edit","setEdit","open","setOpen","load","cRes","rRes","sRes","Promise","all","get","c","data","filter","i","r","st","forEach","cd","req","find","q","requirementId","requirement_id","idCardId","status","notes","issueDate","deliveryAppointment","pictureId","picture_id","pictureUrl","picture_url","photoAppointment","paymentProofUrl","motive","expirationDate","selectedDegreeName","selectedFacultyName","keepOpen","saveCard","idx","e","dates","Object","keys","length","patch","note","trim","alert","err","console","error","savePic","_reqRes$data$data","reqRes","reqObj","picId","put","photoUrl","saveReq","studentName","names","surnames","children","className","fileName","_jsxFileName","lineNumber","columnNumber","to","map","onClick","semester","year","value","onChange","ev","target","type","rows","style","backgroundColor","href","rel","_c","$RefreshReg$"],"sources":["C:/Users/andre/Desktop/UAM/Third year/POO2/FRONTEND/ICorte_POO_Project/carnet-uam-frontend/src/pages/admin/StudentIDCard.jsx"],"sourcesContent":["// src/pages/admin/StudentIdCardPage.jsx\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport AdminLayout from '../../layouts/AdminLayout';\r\n\r\nconst API = 'http://localhost:8087/uam-carnet-sys';\r\nconst STATUS_OPTS = ['PENDING','APPROVED','REJECTED','DELIVERED','EMITTED'];\r\n\r\n/* Paleta de colores personalizada */\r\nconst C = {\r\n    tealLight: '#4da4ab',\r\n    tealMid: '#487e84',\r\n    tealDark: '#0b545b',\r\n    black: '#2d2e3c'\r\n};\r\n\r\n/* helpers fecha */\r\nconst toISODate = d=>{\r\n    if(!d) return '';\r\n    const iso=d.match(/^\\d{4}[-/]\\d{2}[-/]\\d{2}/);\r\n    if(iso) return iso[0].replace(/\\//g,'-');\r\n    const dm=d.match(/^(\\d{2})[-/](\\d{2})[-/](\\d{4})/);\r\n    return dm?`${dm[3]}-${dm[2]}-${dm[1]}`:'';\r\n};\r\nconst b2iso=s=>s?`${s.slice(6,10)}-${s.slice(3,5)}-${s.slice(0,2)}T${s.slice(11)}`:'';\r\nconst iso2b=s=>s?`${s.slice(8,10)}-${s.slice(5,7)}-${s.slice(0,4)} ${s.slice(11)}`:'';\r\n\r\nexport default function StudentIdCardPage(){\r\n    const { cif } = useParams();\r\n    const [cards,setCards]=useState([]); const [reqs,setReqs]=useState([]);\r\n    const [stu,setStu]=useState([]);    const [edit,setEdit]=useState({});\r\n    const [open,setOpen]=useState(null);\r\n\r\n    const load=async()=>{\r\n        const [cRes,rRes,sRes]=await Promise.all([\r\n            axios.get(`${API}/idcard`),\r\n            axios.get(`${API}/requirement`),\r\n            axios.get(`${API}/student`)\r\n        ]);\r\n        const c=cRes.data.filter(i=>i.cif===cif);\r\n        const r=rRes.data.filter(i=>i.cif===cif);\r\n        setCards(c); setReqs(r); setStu(sRes.data.filter(s=>s.cif===cif));\r\n\r\n        const st={};\r\n        c.forEach(cd=>{\r\n            const req=r.find(q=>q.requirementId===cd.requirement_id);\r\n            st[cd.idCardId] = {\r\n                status: cd.status,\r\n                notes: cd.notes || '',\r\n                issueDate: toISODate(cd.issueDate),\r\n                deliveryAppointment: b2iso(cd.deliveryAppointment),\r\n                pictureId: cd.picture_id,\r\n                pictureUrl: cd.picture_url || '',\r\n                photoAppointment: b2iso(cd.photoAppointment),\r\n                requirementId: req?.requirementId,\r\n                paymentProofUrl: req?.paymentProofUrl || '',\r\n                motive: req?.motive || 'No indicado',\r\n                expirationDate: cd.expirationDate || 'No especificada',\r\n                selectedDegreeName: cd.selectedDegreeName || 'No indicada',\r\n                selectedFacultyName: cd.selectedFacultyName || 'No indicada'\r\n            };\r\n\r\n        });\r\n        setEdit(st);\r\n    };\r\n    useEffect(()=>{load();},[cif]);\r\n\r\n    const keepOpen=i=>setOpen(i);\r\n\r\n    const saveCard=async(cd,idx)=>{\r\n        const e=edit[cd.idCardId];\r\n        try{\r\n            const dates={};\r\n            if(e.issueDate && e.issueDate!==toISODate(cd.issueDate))\r\n                dates.issueDate=e.issueDate;\r\n            if(e.deliveryAppointment &&\r\n                iso2b(e.deliveryAppointment)!==cd.deliveryAppointment)\r\n                dates.deliveryAppointment=iso2b(e.deliveryAppointment);\r\n            if(Object.keys(dates).length)\r\n                await axios.patch(`${API}/idcard/${cd.idCardId}/dates`,dates);\r\n\r\n            if(e.status!==cd.status)\r\n                await axios.patch(`${API}/idcard/${cd.idCardId}/status`,{status:e.status});\r\n\r\n            const note=(e.notes||'').trim();\r\n            if(note && note!== (cd.notes||'').trim())\r\n                await axios.patch(`${API}/idcard/${cd.idCardId}/addNotes`,{notes:note});\r\n\r\n            alert('✅ Carnet actualizado');\r\n            await load(); keepOpen(idx);\r\n        }catch(err){console.error(err);alert('❌ Error al guardar carnet');}\r\n    };\r\n\r\n    const savePic = async (cd, idx) => {\r\n        const e = edit[cd.idCardId];\r\n        if (!e.requirementId) return alert('requirementId faltante');\r\n        try {\r\n            const reqRes = await axios.get(`${API}/requirement/${e.requirementId}`);\r\n            const reqObj = reqRes.data.data ?? reqRes.data;\r\n            const picId  = reqObj.pictureId;\r\n            if (!picId) return alert('pictureId no encontrado en el requirement');\r\n\r\n            await axios.put(`${API}/picture/${picId}`, {\r\n                ...(e.photoAppointment && { photoAppointment: iso2b(e.photoAppointment) }),\r\n                cif: cd.cif,\r\n                photoUrl: e.pictureUrl\r\n            });\r\n\r\n            alert('✅ Foto guardada');\r\n            await load(); keepOpen(idx);\r\n        } catch (err) {\r\n            console.error(err);\r\n            alert('❌ Error al guardar foto');\r\n        }\r\n    };\r\n\r\n    const saveReq=async(cd,idx)=>{\r\n        const e=edit[cd.idCardId];\r\n        if(!e.requirementId)return alert('requirementId faltante');\r\n        try{\r\n            await axios.put(`${API}/requirement/${e.requirementId}`,{\r\n                paymentProofUrl:e.paymentProofUrl\r\n            });\r\n            alert('✅ Comprobante guardado'); await load(); keepOpen(idx);\r\n        }catch(err){console.error(err);alert('❌ Error al guardar comprobante');}\r\n    };\r\n\r\n    const studentName=stu.length?`${stu[0].names} ${stu[0].surnames}`:'';\r\n\r\n    return(\r\n        <AdminLayout>\r\n            <div className=\"max-w-4xl mx-auto mt-10 p-6 bg-white rounded shadow\">\r\n                <h1 className=\"text-2xl font-bold mb-4\">Solicitudes de Carnet de {studentName}</h1>\r\n                <Link to=\"/admin/students\" className=\"text-[#0b545b] underline mb-6 block\">\r\n                    ← Volver a Estudiantes\r\n                </Link>\r\n\r\n                {!cards.length&&<p className=\"text-gray-500\">No hay solicitudes.</p>}\r\n\r\n                <div className=\"space-y-4 max-h-[70vh] overflow-y-auto pr-2\">\r\n                    {cards.map((c,i)=>{\r\n                        const e=edit[c.idCardId]||{};\r\n                        return(\r\n                            <div key={c.idCardId} className=\"border rounded-lg\">\r\n                                <button onClick={()=>setOpen(open===i?null:i)}\r\n                                        className=\"w-full p-4 bg-gray-100 flex justify-between\">\r\n                                    <span className=\"font-semibold\">\r\n                                        Semestre {c.semester} {c.year} — {c.status}\r\n                                    </span>\r\n                                    <span>{open===i?'−':'+'}</span>\r\n                                </button>\r\n\r\n                                {open===i&&(\r\n                                    <div className=\"p-4 space-y-5 bg-white rounded-b-lg\">\r\n                                        <section className=\"space-y-2\">\r\n                                            <h2 className=\"text-lg font-medium\">Detalles de la Solicitud</h2>\r\n                                            <p><strong>Carrera:</strong> {e.selectedDegreeName}</p>\r\n                                            <p><strong>Facultad:</strong> {e.selectedFacultyName}</p>\r\n                                            <p><strong>Fecha de vencimiento:</strong> {e.expirationDate}</p>\r\n                                            <p><strong>Motivo:</strong> {e.motive}</p>\r\n                                        </section>\r\n                                        {/* carnet */}\r\n                                        <section className=\"space-y-2\">\r\n                                            <h2 className=\"text-lg font-medium\">Carnet</h2>\r\n                                            <div className=\"flex gap-2 items-center\">\r\n                                                <label className=\"w-44 font-semibold\">Estado</label>\r\n                                                <select value={e.status}\r\n                                                        onChange={ev => setEdit({\r\n                                                            ...edit,\r\n                                                            [c.idCardId]: {...e, status: ev.target.value}\r\n                                                        })}\r\n                                                        className=\"border px-2 py-1 rounded\">\r\n                                                    {STATUS_OPTS.map(s => <option key={s}>{s}</option>)}\r\n                                                </select>\r\n                                            </div>\r\n                                            <div className=\"flex gap-2 items-center\">\r\n                                                <label className=\"w-44 font-semibold\">Emisión</label>\r\n                                                <input type=\"date\" className=\"border px-2 py-1 rounded\"\r\n                                                       value={e.issueDate}\r\n                                                       onChange={ev => setEdit({\r\n                                                           ...edit,\r\n                                                           [c.idCardId]: {...e, issueDate: ev.target.value}\r\n                                                       })}/>\r\n                                            </div>\r\n                                            <div className=\"flex gap-2 items-center\">\r\n                                                <label className=\"w-44 font-semibold\">Entrega</label>\r\n                                                <input type=\"datetime-local\" className=\"border px-2 py-1 rounded\"\r\n                                                       value={e.deliveryAppointment}\r\n                                                       onChange={ev => setEdit({\r\n                                                           ...edit,\r\n                                                           [c.idCardId]: {...e, deliveryAppointment: ev.target.value}\r\n                                                       })}/>\r\n                                            </div>\r\n                                            <div className=\"flex gap-2 items-start\">\r\n                                                <label className=\"w-44 font-semibold mt-1\">Notas</label>\r\n                                                <textarea rows={3} className=\"border px-2 py-1 rounded w-full\"\r\n                                                          value={e.notes}\r\n                                                          onChange={ev => setEdit({\r\n                                                              ...edit,\r\n                                                              [c.idCardId]: {...e, notes: ev.target.value}\r\n                                                          })}/>\r\n                                            </div>\r\n                                            <button onClick={() => saveCard(c, i)}\r\n                                                    className=\"text-white px-3 py-1 rounded\"\r\n                                                    style={{backgroundColor: C.tealMid}}>\r\n                                                Guardar Carnet\r\n                                            </button>\r\n                                        </section>\r\n\r\n                                        {/* foto */}\r\n                                        <section className=\"space-y-2 pt-4 border-t\">\r\n                                            <h2 className=\"text-lg font-medium\">Fotografía</h2>\r\n                                            <div className=\"flex gap-2 items-center\">\r\n                                                <label className=\"w-44 font-semibold\">URL</label>\r\n                                                <input type=\"url\" className=\"border px-2 py-1 rounded w-full\"\r\n                                                       value={e.pictureUrl}\r\n                                                       onChange={ev => setEdit({\r\n                                                           ...edit,\r\n                                                           [c.idCardId]: {...e, pictureUrl: ev.target.value}\r\n                                                       })}/>\r\n                                            </div>\r\n                                            <div className=\"flex gap-2 items-center\">\r\n                                                <label className=\"w-44 font-semibold\">Cita Foto</label>\r\n                                                <input type=\"datetime-local\" className=\"border px-2 py-1 rounded\"\r\n                                                       value={e.photoAppointment}\r\n                                                       onChange={ev => setEdit({\r\n                                                           ...edit,\r\n                                                           [c.idCardId]: {...e, photoAppointment: ev.target.value}\r\n                                                       })}/>\r\n                                            </div>\r\n                                            <button onClick={() => savePic(c, i)}\r\n                                                    className=\"text-white px-3 py-1 rounded\"\r\n                                                    style={{backgroundColor: C.tealLight}}>\r\n                                                Guardar Foto\r\n                                            </button>\r\n                                            {e.pictureUrl && (\r\n                                                <p className=\"mt-1\">\r\n                                                    <a href={e.pictureUrl} target=\"_blank\" rel=\"noreferrer\"\r\n                                                       className=\"text-[#0b545b] underline\">Ver foto actual</a>\r\n                                                </p>\r\n                                            )}\r\n                                        </section>\r\n\r\n                                        {/* comprobante */}\r\n                                        <section className=\"space-y-2 pt-4 border-t\">\r\n                                            <h2 className=\"text-lg font-medium\">Comprobante de Pago</h2>\r\n                                            <div className=\"flex gap-2 items-center\">\r\n                                                <label className=\"w-44 font-semibold\">URL</label>\r\n                                                <input type=\"url\" className=\"border px-2 py-1 rounded w-full\"\r\n                                                       value={e.paymentProofUrl}\r\n                                                       onChange={ev => setEdit({\r\n                                                           ...edit,\r\n                                                           [c.idCardId]: {...e, paymentProofUrl: ev.target.value}\r\n                                                       })}/>\r\n                                            </div>\r\n                                            <button onClick={() => saveReq(c, i)}\r\n                                                    className=\"text-white px-3 py-1 rounded\"\r\n                                                    style={{backgroundColor: C.tealDark}}>\r\n                                                Guardar Comprobante\r\n                                            </button>\r\n                                            {e.paymentProofUrl && (\r\n                                                <p className=\"mt-1\">\r\n                                                    <a href={e.paymentProofUrl} target=\"_blank\" rel=\"noreferrer\"\r\n                                                       className=\"text-[#0b545b] underline\">Ver comprobante actual</a>\r\n                                                </p>\r\n                                            )}\r\n                                        </section>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </AdminLayout>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}